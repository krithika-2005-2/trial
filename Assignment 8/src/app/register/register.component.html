<h3>ğŸ‘¤ Employee Registration Form</h3>

<form [formGroup]="myForm" (ngSubmit)="onSubmit()" class="form-container">

  <!-- First Name -->
  <div class="form-group">
    <label>ğŸ§‘ First Name:</label>
    <input type="text" formControlName="firstName" placeholder="Please enter your first name">
    <div *ngIf="f['firstName']?.touched && f['firstName']?.hasError('required')">First name is required</div>
    <div *ngIf="f['firstName']?.touched && f['firstName']?.hasError('maxlength')">Max 50 characters</div>
  </div>

  <!-- Last Name -->
  <div class="form-group">
    <label>ğŸ§‘ Last Name:</label>
    <input type="text" formControlName="lastName" placeholder="Please enter your last name">
    <div *ngIf="f['lastName']?.touched && f['lastName']?.hasError('required')">Last name is required</div>
    <div *ngIf="f['lastName']?.touched && f['lastName']?.hasError('maxlength')">Max 50 characters</div>
  </div>

  <!-- Date of Birth -->
  <div class="form-group">
    <label>ğŸ‚ Date of Birth:</label>
    <input type="date" formControlName="dateOfBirth">
    <div *ngIf="f['dateOfBirth']?.touched && f['dateOfBirth']?.hasError('required')">Date of birth is required</div>
  </div>

  <!-- Personal Email -->
  <div class="form-group">
    <label>ğŸ“§ Email:</label>
    <input type="email" formControlName="personalEmail" placeholder="Please enter your personal email">
    <div *ngIf="f['personalEmail']?.touched && f['personalEmail']?.hasError('required')">Email is required</div>
    <div *ngIf="f['personalEmail']?.touched && f['personalEmail']?.hasError('email')">Invalid email format</div>
    <div *ngIf="f['personalEmail']?.touched && f['personalEmail']?.hasError('maxlength')">Max 100 characters</div>
  </div>

  <!-- Mobile Number -->
  <div class="form-group">
    <label>ğŸ“± Mobile Number:</label>
    <input type="text" formControlName="mobileNumber" placeholder="Please enter your mobile number">
    <div *ngIf="f['mobileNumber']?.touched && f['mobileNumber']?.hasError('required')">Mobile number is required</div>
    <div *ngIf="f['mobileNumber']?.touched && f['mobileNumber']?.hasError('maxlength')">Max 20 characters</div>
  </div>

  <!-- Postal Address -->
  <div class="form-group">
    <label>ğŸ  Postal Address:</label>
    <input type="text" formControlName="postalAddress" placeholder="Please enter your address">
    <div *ngIf="f['postalAddress']?.touched && f['postalAddress']?.hasError('required')">Postal address is required</div>
    <div *ngIf="f['postalAddress']?.touched && f['postalAddress']?.hasError('maxlength')">Max 250 characters</div>
  </div>

  <!-- Gender -->
  <div class="form-group">
    <label>ğŸš» Gender:</label>
    <div class="radio-group">
      <label><input type="radio" value="Male" formControlName="gender"> Male</label>
      <label><input type="radio" value="Female" formControlName="gender"> Female</label>
      <label><input type="radio" value="Others" formControlName="gender"> Others</label>
    </div>
    <div *ngIf="f['gender']?.touched && f['gender']?.hasError('required')">
      Gender is required
    </div>
  </div>
  

  <!-- Country -->
  <div class="form-group">
    <label>ğŸŒ Country:</label>
    <select formControlName="country" (change)="onCountryChange(myForm.value.country)">
      <option value="">Select Country</option>
      <option *ngFor="let c of countries" [value]="c">{{ c }}</option>
    </select>
    <div *ngIf="f['country']?.touched && f['country']?.hasError('required')">Country is required</div>
  </div>

  <!-- City -->
  <div class="form-group">
    <label>ğŸ™ï¸ City:</label>
    <select formControlName="city">
      <option value="">Select City</option>
      <option *ngFor="let city of availableCities" [value]="city">{{ city }}</option>
    </select>
    <div *ngIf="f['city']?.touched && f['city']?.hasError('required')">City is required</div>
  </div>

  <!-- Designation -->
  <div class="form-group">
    <label>ğŸ’¼ Designation:</label>
    <select formControlName="designation">
      <option value="">Select Designation</option>
      <option *ngFor="let d of designations" [value]="d.id">{{ d.title }}</option>
    </select>
    <div *ngIf="f['designation']?.touched && f['designation']?.hasError('required')">Designation is required</div>
  </div>

  <!-- Basic Pay -->
  <div class="form-group">
    <label>ğŸ’° Basic Pay:</label>
    <input type="number" formControlName="basicPay" placeholder="Enter pay">
    <div *ngIf="f['basicPay']?.touched && f['basicPay']?.hasError('required')">Basic pay is required</div>
    <div *ngIf="f['basicPay']?.touched && (f['basicPay']?.hasError('min') || f['basicPay']?.hasError('max'))">
      Pay must be between 5000 and 50000
    </div>
  </div>

  <!-- Need Transportation -->
  <div class="form-group">
    <label>ğŸšŒ Need Transportation:</label>
    <div class="radio-group">
      <label><input type="radio" [value]="true" formControlName="needTransportation"> Yes</label>
      <label><input type="radio" [value]="false" formControlName="needTransportation"> No</label>
    </div>
  </div>
  

  <!-- Username -->
  <div class="form-group">
    <label>ğŸ‘¤ Username:</label>
    <input type="text" formControlName="username" placeholder="Choose a username">
    <div *ngIf="f['username']?.touched && f['username']?.hasError('required')">Username is required</div>
    <div *ngIf="f['username']?.touched && f['username']?.hasError('maxlength')">Max 15 characters</div>
  </div>

  <!-- Password -->
  <div class="form-group">
    <label>ğŸ”’ Password:</label>
    <input type="password" formControlName="password" placeholder="Enter password">
    <div *ngIf="f['password']?.touched && f['password']?.hasError('required')">Password is required</div>
    <div *ngIf="f['password']?.touched && f['password']?.hasError('pattern')">
      Minimum 6 characters, must include at least one letter, one number and one speacial character
    </div>
  </div>

  <!-- Confirm Password -->
  <div class="form-group">
    <label>ğŸ”’ Confirm Password:</label>
    <input type="password" formControlName="confirmPassword" placeholder="Re-enter password">
    <div *ngIf="f['confirmPassword']?.touched && f['confirmPassword']?.hasError('required')">Confirm password is required</div>
    <div *ngIf="myForm.hasError('passwordMismatch') && f['confirmPassword']?.touched">
      Passwords do not match
    </div>
  </div>

  <!-- Notes -->
  <div class="form-group">
    <label>ğŸ“ Notes:</label>
    <textarea formControlName="notes" placeholder="Any additional notes"></textarea>
    <div *ngIf="f['notes']?.touched && f['notes']?.hasError('maxlength')">Max 250 characters</div>
  </div>

  <!-- Submit Button -->
  <button type="submit">ğŸš€ Register</button>

  <hr />
  <h3>ğŸ“¦ Form Data:</h3>
  <pre>{{ myForm.value | json }}</pre>
</form>
